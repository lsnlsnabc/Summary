<html>
<head>
  <title>Java实现HTTP的C/S通信</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/305825 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="589"/>
<h1>Java实现HTTP的C/S通信</h1>

<div>
<span><div><div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">服务器端</span></font></div><div><hr/></div><div>需要搭建服务器，本人选择使用wamp，即（windows+apache+mysql+php）作为http通信的服务器端，可能也可以再进行扩展</div><div>可以直接下载集成wamp，本人这里分步安装</div><div><ul><li><span style="font-size: 10pt;">apache搭建</span></li></ul></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><div><span style="font-family: 宋体;">在</span><a href="http://httpd.apache.org/" style="font-family: 宋体;">http://httpd.apache.org/</a><span style="font-family: 宋体;">中下载httpd 2.4.29版本</span></div><div><span style="font-family: 宋体;">选择Apache Lounge，在其中下载httpd</span></div><div><span style="font-family: 宋体;">根据Apache官网提示安装httpd：</span></div><div><span style="font-family: 宋体;">首先 进入管理员 Windows powerShell-&gt;进入apache的bin目录，运行httpd.exe -k install，出现如下信息则成功</span></div></blockquote><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">PS C:\wamp\Apache24\bin&gt; .\httpd.exe -k install</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Installing the 'Apache2.4' service</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">The 'Apache2.4' service is successfully installed.</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Testing httpd.conf....</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Errors reported here must be corrected before the service can be started.</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">httpd.exe: Syntax error on line 37 of C:/wamp/Apache24/conf/httpd.conf: ServerRoot must be a valid directory</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">.\httpd.exe -k start</span></div></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><div><span style="font-family: 宋体;">然后点击ApacheMonitor测试是否成功（启动，通常来说在网页上输入localhost:80，看是否有网页展示）</span></div><div><span style="font-family: 宋体;">若不成功，则证明配置除了问题，找到C:\wamp\Apache24\conf\httpd.conf，查看apache的路径是否正确（也可以在配置中修改端口）</span></div></blockquote><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ServerRoot &quot;c:/wamp/Apache24&quot;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">#</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">#Listen 12.34.56.78:80</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Listen 8011</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">DocumentRoot &quot;c:/wamp/Apache24/htdocs&quot;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;Directory &quot;c:/wamp/Apache24/htdocs&quot;&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;Directory /&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    AllowOverride none</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    #Require all denied</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    Require all granted</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;/Directory&gt;</span></div></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><div><span style="font-family: 宋体;">修改Directory，使apache可以对外访问</span></div></blockquote><div><br/></div><div><ul><li><span style="line-height: 1.45;">php搭建</span><br/></li></ul></div></div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><font face="宋体">搭建好apache后需要按照版本的不同安装对应的php</font></div><div><font face="宋体">进入php官网下载<a href="http://windows.php.net/download#php-7.2">http://windows.php.net/download#php-7.2</a></font></div><div><font face="宋体">先下载匹配apache的visual c++，下载匹配apache的php</font></div><div><font face="宋体">然后按照<a href="https://www.cnblogs.com/freeweb/p/5056979.html">https://www.cnblogs.com/freeweb/p/5056979.html</a>对php和apache进行配置和关联即可</font></div></blockquote><div><br/></div><div><ul><li><span style="line-height: 1.45;">mysql搭建</span><br/></li></ul></div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><font face="宋体">在<a href="https://www.mysql.com/">https://www.mysql.com/</a>-&gt;downloads-&gt;Community Downloads-&gt;server</font></div><div><font face="宋体">由于本人只是作为练习，所以下载mysql服务器即可</font></div><div><font face="宋体">下载mysql5.7.20-&gt;下载Navicat for MySQL(图形操作界面)</font></div><div><font face="宋体">建立一张表，并且输入一些信息</font></div></blockquote><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">insert into InformationOfClass (name,class,gender,score) values ('啦啦啦','1','0','80');</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">select * from InformationOfClass；</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">+-------+-----------+-------+--------+-------+</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">| index | name      | class | gender | score |</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">+-------+-----------+-------+--------+-------+</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">|     1 | 罗舒宁    |     1 |      1 |    95 |</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">|     2 | 啦啦啦    |     1 |      0 |    80 |</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">+-------+-----------+-------+--------+-------+</span></div></div><div><br/></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">客户端</span></font></div><div><hr/></div><div>客户端运用eclipse，但首先需要添加httpcore.jar和httpclient.jar包（网络上关于json的jar包比较多，其实下载哪个都可以，只要会用就行）</div><div><ol><li><span style="line-height: 1.45;">客户端实现较为简单，连接网址，将php中的数据读取出来，并且将json格式进行解析，将数据输出出来，第一行输出的是从php中获取的数据库中的信息，第二行以后是将json数据解析出来，进行处理的数据</span><br/></li></ol></div><div style="text-align: center;"><img src="file:///C:/Users/%E7%8C%AB%E7%8C%AB%26king/AppData/Roaming/Tencent/Users/307560187/QQ/WinTemp/RichOle/U5B%7B9R%7X%7DEH%7B(P)6K%7B6QPX.png"></img></div><div><ol start="2"><li><span style="line-height: 1.45;">对json解析函数进行测试</span><br/></li></ol></div><div style="text-align: center;"><img src="file:///C:/Users/%E7%8C%AB%E7%8C%AB%26king/AppData/Roaming/Tencent/Users/307560187/QQ/WinTemp/RichOle/PZ8%5DO1RT)MOMM0YC(K@%@MR.png"></img><br/></div><div><br/></div></div></span>
</div></body></html> 