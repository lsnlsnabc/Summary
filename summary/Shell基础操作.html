<html>
<head>
  <title>Shell基础操作</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/305825 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="412"/>
<h1>Shell基础操作</h1>

<div>
<span><div><div>Shell基础</div><div><hr/><div>Shell两种主要语法类型：</div></div><div><ul><li><span style="font-family: 宋体; line-height: 1.45;">Bourne：包括sh、ksh、</span><span style="background-color: rgb(255, 250, 165); font-family: 宋体; line-height: 1.45;-evernote-highlight:true;">Bash（Linux中常用）</span><span style="font-family: 宋体; line-height: 1.45;">、psh、zsh</span></li><li><span style="font-family: 宋体; line-height: 1.45;">C：csh、tcsh</span></li></ul></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">[root@MiWiFi-R1CM-srv ~]# echo $SHELL        //查看当前shell版本</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/bin/bash</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">[root@MiWiFi-R1CM-srv etc]# vi /etc/shells       //查看Linux中支持哪些shell</span></div></div><div><span style="font-family: 宋体;">   子shell概念（</span><span style="font-family: 宋体; color: rgb(255, 0, 0);">待查</span><span style="font-family: 宋体;">）</span></div><div><br/></div><div>别名与快捷键</div><div><ul><li><span style="font-family: 宋体; line-height: 1.45;">alias   查看系统中所有查询的别名</span><br/></li></ul></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">[root@MiWiFi-R1CM-srv etc]# alias</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">alias cp='cp -i'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">alias l.='ls -d .* --color=auto'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">alias ll='ls -l --color=auto'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">alias ls='ls --color=auto'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">alias mv='mv -i'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">alias rm='rm -i'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">alias which='alias | /usr/bin/which --tty-only --read-alias --show-dot --show-tilde'</span></div></div><div><ul><li><span style="line-height: 1.45;">alias 别名=‘原命令’  临时设定命令别名</span><br/></li><li><span style="line-height: 1.45;">unalias 别名   临时删除别名 </span><br/></li><li><span style="line-height: 1.45;">vi /root/.bashrc   永久设定别名，配置文件</span><br/></li><li><span style="line-height: 1.45;">source .bashrc   让该文件立即生效</span><br/></li><li><span style="line-height: 1.45;">命令生效顺序</span><br/></li></ul></div><div><ol><li><span style="line-height: 1.45;">第一顺位执行用绝对路径或相对路径执行的命令</span><br/></li><li><span style="line-height: 1.45;">第二顺位执行别名</span><br/></li><li><span style="line-height: 1.45;">第三顺位执行Bash内部命令</span><br/></li><li><span style="line-height: 1.45;">第四顺位执行按照$PATH环境变量定义的目录查找顺序找到的第一个命令</span><br/></li></ol></div><div><ul><li><span style="line-height: 1.45;">快捷键</span><br/></li></ul></div><div><ol><li><span style="line-height: 1.45;">ctrl+u 命令删除</span><br/></li><li><span style="line-height: 1.45;">ctrl+a 移动到行首</span><br/></li><li><span style="line-height: 1.45;">ctrl+e 移动到行尾</span><br/></li><li><span style="line-height: 1.45;">ctrl+r 在历史命令中搜索</span><br/></li><li><span style="line-height: 1.45;">ctrl+l 相当于clear</span></li></ol></div><div><br/></div><div>历史命令</div><div><ul><li><span style="font-family: 宋体; line-height: 1.45;">history [选项][历史命令保存文件]</span><br/></li><li><span style="font-family: 宋体; line-height: 1.45;">选项： -c 清空历史命令</span><br/></li></ul></div><div><font face="宋体">             -w 把缓存的历史命令学如历史命令保存文件~/.bash_history</font></div><div><ul><li><span style="font-family: 宋体; line-height: 1.45;">vi /etc/profile  系统配置文件，可修改历史命令保存条数</span><br/></li><li><span style="font-family: 宋体; line-height: 1.45;">!字符串 调用最后一个历史命令</span><br/></li><li><span style="font-family: 宋体; line-height: 1.45;">tab键 补全命令</span><br/></li></ul></div><div><font face="宋体"><br/></font></div><div>输出重定向</div><div><ul><li><span style="font-family: 宋体; line-height: 1.45;">标准输出重定向 </span><br/></li></ul></div><div><ol><li><span style="font-family: 宋体; line-height: 1.45;">命令&gt;文件   以覆盖的方式把命令输出到指定的文件中</span><br/></li><li><span style="font-family: 宋体; line-height: 1.45;">命令&gt;&gt;文件   以追加的方式把命令输出到指定文件中</span><br/></li></ol></div><div><ul><li><span style="font-family: 宋体; line-height: 1.45;">标准错误输出重定向</span><br/></li></ul></div><div><ol><li><span style="font-family: 宋体; line-height: 1.45;">错误命令 2&gt;文件   以覆盖方式把命令错误信息输出到指定文件</span><br/></li><li><span style="font-family: 宋体; line-height: 1.45;">错误命令 2&gt;&gt;文件   以追加的方式把</span><span style="font-family: 宋体; line-height: 1.45;">命令错误信息输出到指定文件</span><br/></li></ol></div><div><ul><li><span style="font-family: 宋体; line-height: 1.45;">正确和错误信息同时保存</span><br/></li></ul></div><div><ol><li><span style="font-family: 宋体; line-height: 1.45;">命令&gt;文件 2&gt;&amp;1 (等同于 命令 &amp;&gt;文件)</span><br/></li><li><span style="font-family: 宋体; line-height: 1.45;">命令&gt;&gt;文件 2&gt;&amp;1 （等同于 命令 &amp;&gt;&gt;文件）</span><br/></li><li><span style="font-family: 宋体; line-height: 1.45;">命令&gt;&gt;文件1 2&gt;&gt;文件2 分别存放正确和错误</span><br/></li></ol></div><div><font face="宋体"><span style="font-family: 宋体;"><br/></span></font></div><div>输入重定向</div><div><ul><li><span style="font-family: 宋体; line-height: 1.45;">wc [选项][文件名]</span><br/></li><li><span style="font-family: 宋体; line-height: 1.45;">选项：</span><br/></li></ul></div><div>        -c   统计字节数</div><div>        -w   统计单词数</div><div>         -l   统计行数</div><div><br/></div><div>管道符</div><div><ul><li><span style="font-family: 宋体; line-height: 1.45;">多命令顺序执行</span><br/></li></ul></div><div><ol><li><span style="font-family: 宋体; line-height: 1.45;">命令1;命令2   多命令顺序执行，之间没有任何逻辑联系</span><br/></li><li><span style="font-family: 宋体; line-height: 1.45;">命令1&amp;&amp;命令2   命令1正确执行命令2才会执行</span><br/></li><li><span style="font-family: 宋体; line-height: 1.45;">命令1||命令2   命令1不正确执行命令2才会执行</span><br/></li></ol></div><div><ul><li><span style="font-family: 宋体; line-height: 1.45;">管道符</span><br/></li></ul></div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><font style="font-family: 宋体;">命令1 | 命令2   命令1的结果被命令2操作 如 ls /etc/ | more</font></div><div><font face="宋体">more   分屏显示</font></div></blockquote><div><br/></div><div>通配符</div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div>*: 匹配任意字符</div><div>?: 匹配任意一个字符</div><div>[]: 匹配一个字符</div><div>[-]: 匹配范围之内的一个字符</div><div>[^]: 匹配除了这些的字符</div></blockquote><div><br/></div><div>其他特殊符号</div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div>'': 单引号中为简单字符串</div><div>&quot;&quot;: 双引号中带有特殊字符</div><div>``: 与$()相同，将执行的系统命令复制给某个变量</div><div>\: 转义符</div></blockquote><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">[root@MiWiFi-R1CM-srv ~]# lsn=123</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">[root@MiWiFi-R1CM-srv ~]# echo '$lsn'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">$lsn</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">[root@MiWiFi-R1CM-srv ~]# echo &quot;$lsn&quot;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">123</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); background-color: rgb(255, 250, 165);-evernote-highlight:true;">[root@MiWiFi-R1CM-srv ~]# lsn=ls</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><u>[root@MiWiFi-R1CM-srv ~]# echo &quot;$lsn&quot;</u></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">ls</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); background-color: rgb(255, 250, 165);-evernote-highlight:true;">[root@MiWiFi-R1CM-srv ~]# lsn=$(ls)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><u>[root@MiWiFi-R1CM-srv ~]# echo &quot;$lsn&quot;</u></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">anaconda-ks.cfg</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">install.log</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">install.log.syslog</span></div></div><div><br/></div></div></span>
</div></body></html> 